#!/bin/bash

set -e

# input: YYYY-MM-dd_HH-mm-ss.ext
# ouput: MM/dd/YYYY HH:mm:ss
filename=$(basename "$1")
date="`echo "$filename" | awk -F '_' '{print $1}' | awk -F '-' '{print $2"/"$3"/"$1}'`"
time="`echo "$filename" | awk -F '_' '{print $2}' | awk -F '.' '{print $1}' | awk -F '-' '{print $1":"$2":"$3}'`"

echo "$date $time"

# SetFile -d '09/28/2012 13:06:58' 2012-09-28_13-06-58.mov
# 10/05/2012 15:43:27
SetFile -d "$date $time" "$1"
